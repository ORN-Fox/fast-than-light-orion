<div class="game">
  <div id="canvsPixi"></div>
</div>

<app-modal [show]="showGameMenuModal" (closeCallback)="toggleGameMenuModal()">
  <div class="in-game-menu-container">
    <ul>
      <li><button class="btn" (click)="toggleGameMenuModal()">{{'commons.actions.continue' | translate}}</button></li>
      <li><button class="btn" (click)="navigateToMenu()">{{'views.menu.title' | translate}}</button></li>
      <li><button class="btn" (click)="navigateToShed()">{{'views.shed.title' | translate}}</button></li>
      <li><button class="btn" (click)="toggleRetryGameModal()">{{'commons.actions.retry' | translate}}</button></li>
      <li><button class="btn" (click)="toggleSettingsModal()">{{'commons.settings' | translate}}</button></li>
      <li><button class="btn" (click)="toggleHelpCommandsModal()">{{'commons.commands' | translate}}</button></li>
      <li><button class="btn btn-save-and-quit" (click)="saveAndQuit()">{{'commons.actions.saveAndQuit' | translate}}</button></li>
    </ul>
  </div>

  <div class="difficulty-container">
    <p class="difficulty-title">{{'commons.difficulty' | translate}}</p>
    <p *ngIf="game" class="difficulty-value">{{('commons.difficulties.' + game.difficulty.name) | translate}}</p>
  </div>
</app-modal>

<app-modal [show]="showRetryGameModal">
  <div class="retry-container">
    <p>Êtes-vous sûr ?</p>
    <p>Toute votre progression sera perdue.</p>

    <div class="choices-container">
      <button class="btn" (click)="onConfirmRetryGame()">{{'commons.actions.yes' | translate}}</button>
      <button class="btn" (click)="onCancelRetryGame()">{{'commons.actions.no' | translate}}</button>
    </div>
  </div>
</app-modal>

<app-settings-modal [showSettingsModal]="showSettingsModal" [toggleSettingsModal]="toggleSettingsModal"></app-settings-modal>

<app-modal [show]="showHelpCommandsModal" (closeCallback)="toggleHelpCommandsModal()">
  <div class="help-commands-container">
    <div class="crews-commands-container">
      <h1>{{'views.game.menu.helpCommands.crews.title' | translate}}</h1>
      <p class="subtitle">{{'views.game.menu.helpCommands.crews.giveOrders' | translate}}</p>

      <div class="first-section">
        <p>{{'views.game.menu.helpCommands.crews.leftClicOrDragToChooseCharacter' | translate}}</p>
        <p>{{'views.game.menu.helpCommands.crews.rightClickToMoveChosenCharacter' | translate}}</p>
      </div>
      
      <div class="second-section">
        <p>{{'views.game.menu.helpCommands.crews.charactersRepairSystemsOrFightInTheirCurrentRoom' | translate}}</p>
      </div>
    </div>

    <div class="pause-commands-container">
      <h1>{{'commons.actions.pause' | translate}}</h1>
      <p>{{'views.game.menu.helpCommands.pause.spaceBarToPause' | translate}}</p>
      <p>{{'views.game.menu.helpCommands.whilePausedYouCanActAndGiveOrders' | translate}}</p>
    </div>

    <div class="power-commands-container">
      <h1>{{'views.game.menu.helpCommands.power.title' | translate}}</h1>
      <p>{{'views.game.menu.helpCommands.power.increaseDecreaseSystemPower' | translate}}</p>

      <div class="first-section">
        <p>{{'views.game.menu.helpCommands.power.leftClicMorePower' | translate}}</p>
        <p>{{'views.game.menu.helpCommands.power.rightClickLessPower' | translate}}</p>
      </div>
    </div>

    <div class="weapons-drones-commands-container">
      <h1>{{'views.game.menu.helpCommands.weaponsDrones.title' | translate}}</h1>

      <div class="first-section">
        <p>{{'views.game.menu.helpCommands.weaponsDrones.leftClicLoadWeapon' | translate}}</p>
        <p>{{'views.game.menu.helpCommands.weaponsDrones.newLeftClicActivateWeapon' | translate}}</p>
        <p>{{'views.game.menu.helpCommands.weaponsDrones.leftClicOnEnemyShipToTargetIt' | translate}}</p>
      </div>
      
      <div class="second-section">
        <p>{{'views.game.menu.helpCommands.weaponsDrones.leftClicOrDragRearrangeWeaponsDrones' | translate}}</p>
        <p>{{'views.game.menu.helpCommands.weaponsDrones.ifSystemIsDamagedTheRightmostObjectIsCutFirst' | translate}}</p>
      </div>
    </div>
  </div>
</app-modal>
